<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<title>FurnaceBrain – śruba podajnika (smooth)</title>
<style>
  body {
    background:#222;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }

  svg {
    width:260px;  /* dopasuj do UI */
    height:auto;
  }

  /* ANIMACJA – wolniej i idealnie zapętlona */
  .auger-running .auger-spiral {
    animation: auger-move 1.2s linear infinite;
  }

  @keyframes auger-move {
    from { transform: translateX(0px); }
    to   { transform: translateX(60px); } /* = jeden okres zygzaka */
  }
</style>
</head>
<body>

<svg viewBox="0 0 260 120">

  <defs>
    <!-- maska / "okienko" - tylko tu śruba ma być widoczna -->
    <clipPath id="pipe-clip">
      <!-- dokładnie wnętrze rury -->
      <rect x="35" y="52" width="162" height="46" rx="12" />
    </clipPath>
  </defs>
  
  <!-- rura podajnika -->
  <rect x="35" y="52" width="162" height="46"
        fill="#666" rx="12" stroke="#9e8472" stroke-width="4" />

  <!-- wnętrze rury -->
  <rect x="41" y="56" width="150" height="36"
        fill="#eaeaea" rx="8" />

  <!-- oś śruby (statyczna) -->
  <line x1="41" y1="74" x2="200" y2="74"
        stroke="#777" stroke-width="3" stroke-linecap="round" />

  <!-- DŁUGI, POWTARZALNY ZYGZAK – jedzie w prawo -->
  <g id="auger" class="auger-running" clip-path="url(#pipe-clip)">
    <polyline
      class="auger-spiral"
      points="
		 -60,90   -30,60
         0,90   30,60
         60,90   90,60
        120,90  150,60
		180,90  210,60
      "
      fill="none"
      stroke="black"
      stroke-width="10"
      stroke-linecap="round" />
  </g>
</svg>

<script>
  // podłączenie do backendu
  function setAugerState(isOn) {
    document
      .getElementById('auger')
      .classList.toggle('auger-running', isOn);
  }

  // DEMO: po 3 s wyłącza animację
  setTimeout(() => setAugerState(false), 13000);
</script>

</body>
</html>
